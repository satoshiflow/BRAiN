# =============================================================================
# BRAiN ControlDeck v2 - Environment Configuration
# =============================================================================

# =============================================================================
# REQUIRED: Better Auth Security
# =============================================================================
# Generate with: openssl rand -base64 32
# CRITICAL: Must be set in production, no fallback allowed
BETTER_AUTH_SECRET=your-better-auth-secret-min-32-chars

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
# Format: postgresql://user:password@host:port/database
# For Coolify internal networking, use the PostgreSQL service name
DATABASE_URL=postgresql://brain:brain_dev_pass@gs8w8coocccco8gkgcs4gww8:5432/brain_dev

# =============================================================================
# BRAiN API Configuration
# =============================================================================

# Internal backend API URL (server-side only)
# Used by Next.js server components and API routes
# Docker/Kubernetes internal networking: http://backend:8000
# Local development: http://localhost:8000
BRAIN_API_BASE_INTERNAL=http://backend:8000

# Public backend API URL (client-side)
# Production: https://api.brain.falklabs.de
# Local development: http://localhost:8000
NEXT_PUBLIC_BRAIN_API_BASE=https://api.brain.falklabs.de

# =============================================================================
# WebSocket Configuration
# =============================================================================

# Internal WebSocket URL (server-side)
# Docker internal: ws://backend:8000/ws
BRAIN_WS_BASE_INTERNAL=ws://backend:8000/ws

# Public WebSocket URL (client-side)
# CRITICAL: Must use wss:// in production (HTTPS sites)
# Production: wss://api.brain.falklabs.de/ws
# Development: ws://localhost:8000/ws
NEXT_PUBLIC_BRAIN_WS_BASE=wss://api.brain.falklabs.de/ws

# =============================================================================
# Next.js Configuration
# =============================================================================
NODE_ENV=production
NEXTAUTH_URL=https://control.brain.falklabs.de

# =============================================================================
# Optional: Session/Auth Configuration
# =============================================================================

# Session cookie name for auth header forwarding
SESSION_COOKIE_NAME=session

# =============================================================================
# SECURITY NOTES
# =============================================================================
# 
# 1. BETTER_AUTH_SECRET:
#    - MUST be set to a random 32+ character string
#    - NO fallback to defaults (throws error if missing)
#    - Generate: openssl rand -base64 32
#
# 2. NEXT_PUBLIC_BRAIN_WS_BASE:
#    - MUST use wss:// (WebSocket Secure) in production
#    - Throws error if ws:// is used with NODE_ENV=production
#
# 3. DATABASE_URL:
#    - Must point to valid PostgreSQL instance
#    - Better Auth stores sessions in PostgreSQL
#
# 4. Never commit .env.local with real values to git!
#    This .env.example should be committed instead.
