# Docker Compose overrides for DEVELOPMENT environment
# Used with: docker-compose -f docker-compose.yml -f docker-compose.dev.yml up

services:
  backend:
    container_name: dev-backend
    ports:
      - "8001:8000"  # Dev backend on port 8001
    environment:
      - APP_ENV=development
      - LOG_LEVEL=DEBUG

  control_deck:
    container_name: dev-control-deck
    build:
      args:
        NEXT_PUBLIC_BRAIN_API_BASE: http://localhost:8001  # Build-time for Next.js
    ports:
      - "3001:3000"  # Dev frontend on port 3001
    environment:
      - NEXT_PUBLIC_BRAIN_API_BASE=http://localhost:8001

  axe_ui:
    container_name: dev-axe-ui
    build:
      args:
        NEXT_PUBLIC_BRAIN_API_BASE: http://localhost:8001  # Build-time for Next.js
    ports:
      - "3002:3000"  # Dev AXE UI on port 3002
    environment:
      - NEXT_PUBLIC_BRAIN_API_BASE=http://localhost:8001

  postgres:
    container_name: dev-postgres
    environment:
      POSTGRES_DB: brain_dev

  redis:
    container_name: dev-redis

  qdrant:
    container_name: dev-qdrant

  ollama:
    container_name: dev-ollama

  # openwebui:
    # container_name: dev-openwebui
