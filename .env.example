# ðŸ§  BRAIN Environment Configuration
# Copy to .env and fill in your values
#############################################
# B R A I N   â€“   GLOBAL CONFIG
#############################################

APP_ENV=development
APP_NAME=BRAIN-Core
APP_VERSION=0.3.0

# Options: development | staging | production
BRAiN_MODE=development

#############################################
# BACKEND / API
#############################################

# FastAPI host/port (Docker uses 0.0.0.0)
API_HOST=0.0.0.0
API_PORT=8000

# Enable/Disable Mission Worker loop
ENABLE_MISSION_WORKER=true

# Worker interval (seconds)
MISSION_WORKER_POLL_INTERVAL=2.0


#############################################
# POSTGRESQL
#############################################

POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=brain
POSTGRES_USER=brain
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# SQLAlchemy Database URL (async)
DATABASE_URL=postgresql+asyncpg://brain:CHANGE_ME_STRONG_PASSWORD@postgres:5432/brain


#############################################
# REDIS
#############################################

REDIS_URL=redis://redis:6379/0


#############################################
# QDRANT VECTOR DB
#############################################

QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=
QDRANT_USE_HTTPS=false


#############################################
# LLM CLIENT (Ollama / OpenAI / LM Studio)
#############################################

# Default local LLM (Ollama)
LLM_PROVIDER=ollama

# Host inside Docker: http://host.docker.internal:11434
# Host local: http://localhost:11434
OLLAMA_HOST=http://host.docker.internal:11434
OLLAMA_MODEL=phi3

# Maximum tokens, temperature etc.
LLM_MAX_TOKENS=1024
LLM_TEMPERATURE=0.5


#############################################
# FRONTEND â€“ Control Deck
#############################################

NEXT_PUBLIC_API_BASE=http://localhost:8000


#############################################
# SUPERVISOR / HEALTH / AGENTS
#############################################

SUPERVISOR_ENABLE=true
AGENT_HEARTBEAT_INTERVAL=10
AGENT_TIMEOUT_SECONDS=60


#############################################
# DOCKER INTERNAL NETWORKING
#############################################

DOCKER_BRIDGE_NETWORK=brain_net


#############################################
# LOGGING
#############################################

LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/brain.log
LOG_FILE_MAX_BYTES=10485760
LOG_FILE_BACKUP_COUNT=5 # Number of backup log files to keep
LOG_ENABLE_CONSOLE=true

#############################################
# SECURITY
#############################################   
JWT_SECRET_KEY=CHANGE_ME_RANDOM_SECRET_KEY
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=300 # 5 hours
PASSWORD_SALT_ROUNDS=12 # bcrypt salt rounds
########################################################################################
# NOTE: Remember to change the default passwords and secret keys before deploying to production!
########################################################################################
#############################################
# EMAIL / SMTP SETTINGS
#############################################   
SMTP_HOST=smtp.example.com
SMTP_PORT=587   
SMTP_USER=your_smtp_user   
SMTP_PASSWORD=your_smtp_password    
SMTP_USE_TLS=true   

#############################################
# OTHER SETTINGS
#############################################   
MAX_CONCURRENT_MISSIONS=5
MAX_MISSION_RETRIES=3       
DEFAULT_TIMEZONE=UTC
ENABLE_API_CACHING=false
API_CACHE_TTL=300 # seconds 
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=100 # requests
RATE_LIMIT_TIME_WINDOW=60 # seconds

#############################################
# SOVEREIGN MODE
#############################################

# Sovereign Mode Egress Enforcement
# Enable host firewall-based egress blocking for sovereign mode
BRAIN_SOVEREIGN_MODE_ENABLED=false

# IPv6 Policy: block | allowlist | off
# - block: Block all IPv6 egress traffic (default, fail-closed)
# - allowlist: Allow only specific IPv6 destinations (requires configuration)
# - off: No IPv6 enforcement (NOT RECOMMENDED - security bypass risk)
BRAIN_SOVEREIGN_IPV6_POLICY=block

# IPv6 Allowlist (comma-separated, only used if policy=allowlist)
# Example: fc00::1,fe80::1
BRAIN_SOVEREIGN_IPV6_ALLOWLIST=

# DMZ Gateway Control
# Enable/disable DMZ gateway services (Telegram, WhatsApp, Discord, Email)
BRAIN_DMZ_ENABLED=false

# DMZ Logging Level
DMZ_LOG_LEVEL=INFO

# Telegram Gateway Configuration
TELEGRAM_BOT_TOKEN=
TELEGRAM_MODE=polling
TELEGRAM_WEBHOOK_URL=

# WhatsApp Gateway Configuration
WHATSAPP_PHONE_NUMBER=

# Discord Gateway Configuration
DISCORD_BOT_TOKEN=
DISCORD_COMMAND_PREFIX=!

# Email Gateway Configuration
EMAIL_IMAP_HOST=
EMAIL_IMAP_PORT=993
EMAIL_SMTP_HOST=
EMAIL_SMTP_PORT=587
EMAIL_ADDRESS=
EMAIL_PASSWORD=
EMAIL_POLL_INTERVAL=60

#####################################################################################
# NOTE: Remember to change the default passwords and secret keys before deploying to production!
#####################################################################################


